{"level":"info","message":"=== Creative Writer Snapshot Service ===","service":"snapshot-service","timestamp":"2025-12-11 14:23:04"}
{"level":"info","message":"=== Creative Writer Snapshot Service ===","service":"snapshot-service","timestamp":"2025-12-11 14:23:04"}
{"level":"info","message":"=== Creative Writer Snapshot Service ===","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Version: 1.0.0","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Node: v18.20.8","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Environment: development","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"couchdb":{"host":"couchdb","port":"5984","user":"admin"},"level":"info","logLevel":"info","message":"Configuration:","service":"snapshot-service","snapshots":{"batchSize":10,"enabled":true,"idleThresholdMinutes":5,"maxPerStory":500},"timestamp":"2025-12-11 14:23:05","timezone":"Europe/Berlin"}
{"level":"info","message":"Testing CouchDB connection...","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Connected to CouchDB at couchdb:5984","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Connected to CouchDB successfully (0 databases found)","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Found 0 user databases to monitor","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Loading initial snapshot statistics...","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"byDatabase":{},"byTier":{"daily":0,"granular":0,"hourly":0,"manual":0,"monthly":0,"weekly":0},"level":"info","message":"Initial snapshot statistics:","service":"snapshot-service","timestamp":"2025-12-11 14:23:05","totalDatabases":0,"totalSnapshots":0}
{"level":"info","message":"Initializing snapshot scheduler","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Timezone: Europe/Berlin","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Schedules:\n    - Granular (15-min): */15 * * * *\n    - Hourly: 0 * * * *\n    - Daily: 0 2 * * *\n    - Weekly: 0 3 * * 0\n    - Monthly: 0 4 1 * *\n    - Cleanup: 0 5 * * *","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Snapshot scheduler initialized successfully","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"=== Snapshot Service Ready ===","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Service is running and waiting for scheduled tasks","service":"snapshot-service","timestamp":"2025-12-11 14:23:05"}
{"level":"info","message":"Received SIGTERM, shutting down gracefully...","service":"snapshot-service","timestamp":"2025-12-11 14:25:02"}
{"level":"info","message":"Created views for database: creative-writer-stories","service":"snapshot-service","timestamp":"2025-12-11 14:25:02"}
{"level":"info","message":"Created views for database: creative-writer-stories-anonymous","service":"snapshot-service","timestamp":"2025-12-11 14:25:02"}
{"byDatabase":{"creative-writer-stories":{"byTier":{},"total":0},"creative-writer-stories-anonymous":{"byTier":{},"total":0}},"byTier":{"daily":0,"granular":0,"hourly":0,"manual":0,"monthly":0,"weekly":0},"level":"info","message":"Final snapshot statistics:","service":"snapshot-service","timestamp":"2025-12-11 14:25:02","totalDatabases":2,"totalSnapshots":0}
