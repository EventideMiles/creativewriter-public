<div class="model-selector-wrapper">
  <!-- Quick Picks -->
  <div class="quick-picks" *ngIf="quickPickModels.length > 0">
    <ion-icon name="star-outline" class="quick-pick-icon" aria-hidden="true"></ion-icon>
    <div class="quick-pick-buttons" role="list">
      <button *ngFor="let qp of quickPickModels"
              type="button"
              class="quick-pick-btn"
              role="listitem"
              [class.active]="model === qp.id"
              (click)="selectQuickPick(qp)"
              [title]="qp.label">
        <span class="quick-pick-content">
          <app-provider-icon
            [provider]="qp.provider"
            [size]="14"
            [class.gemini]="qp.provider === 'gemini'">
          </app-provider-icon>
          <span class="quick-pick-label">{{ qp.label }}</span>
        </span>
      </button>
    </div>
  </div>

  <!-- Model Dropdown -->
  <ng-select
    [(ngModel)]="model"
    [items]="availableModels"
    bindLabel="label"
    bindValue="id"
    [clearable]="clearable"
    [searchable]="searchable"
    [placeholder]="placeholder"
    [appendTo]="appendTo"
    (ngModelChange)="onModelChange($event)">
    <ng-template ng-label-tmp let-item="item">
      <div class="model-option-inline">
        <app-provider-icon
          [provider]="item.provider"
          [size]="16"
          class="provider-icon-inline"
          [class.openrouter]="item.provider === 'openrouter'"
          [class.claude]="item.provider === 'claude'"
          [class.replicate]="item.provider === 'replicate'"
          [class.ollama]="item.provider === 'ollama'"
          [class.gemini]="item.provider === 'gemini'">
        </app-provider-icon>
        <span class="model-label">{{ item.label }}</span>
      </div>
    </ng-template>
    <ng-template ng-option-tmp let-item="item">
      <div class="model-option-inline">
        <app-provider-icon
          [provider]="item.provider"
          [size]="16"
          class="provider-icon-inline"
          [class.openrouter]="item.provider === 'openrouter'"
          [class.claude]="item.provider === 'claude'"
          [class.replicate]="item.provider === 'replicate'"
          [class.ollama]="item.provider === 'ollama'"
          [class.gemini]="item.provider === 'gemini'">
        </app-provider-icon>
        <span class="model-label">{{ item.label }}</span>
      </div>
    </ng-template>
  </ng-select>
</div>
